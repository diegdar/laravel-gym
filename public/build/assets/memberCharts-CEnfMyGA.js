const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/auto-CzjS41M7.js","assets/chart-Cp_wvYwL.js","assets/chartjs-plugin-datalabels.esm-m-GpYHQd.js"])))=>i.map(i=>d[i]);
const C="modulepreload",P=function(e){return"/build/"+e},h={},g=function(n,i,c){let d=Promise.resolve();if(i&&i.length>0){let r=function(o){return Promise.all(o.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),a=(t==null?void 0:t.nonce)||(t==null?void 0:t.getAttribute("nonce"));d=r(i.map(o=>{if(o=P(o),o in h)return;h[o]=!0;const u=o.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${f}`))return;const l=document.createElement("link");if(l.rel=u?"stylesheet":C,u||(l.as="script"),l.crossOrigin="",l.href=o,a&&l.setAttribute("nonce",a),document.head.appendChild(l),u)return new Promise((E,k)=>{l.addEventListener("load",E),l.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${o}`)))})}))}function s(r){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=r,window.dispatchEvent(t),!t.defaultPrevented)throw r}return d.then(r=>{for(const t of r||[])t.status==="rejected"&&s(t.reason);return n().catch(s)})};let m=null;function y(){return m||(m=Promise.all([g(()=>import("./auto-CzjS41M7.js"),__vite__mapDeps([0,1])),g(()=>import("./chartjs-plugin-datalabels.esm-m-GpYHQd.js"),__vite__mapDeps([2,1]))]).then(([e,n])=>{const i=e.default,c=n.default;return i.register(c),{Chart:i}})),m}function w(e){return fetch(e,{headers:{Accept:"application/json"}}).then(n=>{if(!n.ok)throw new Error("Network error");return n.json()})}function p(){const e=document.getElementById("member-weekly-attendance-chart");!e||e.dataset.inited||e.dataset.initializing||(e.dataset.initializing="1",Promise.all([y(),w(e.dataset.endpoint)]).then(([{Chart:n},i])=>{new n(e,{type:"line",data:{labels:i.labels,datasets:[{label:"Asistencias",data:i.values,borderColor:"#6366f1",backgroundColor:"rgba(99,102,241,.15)",tension:.35,fill:!0,pointRadius:3}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{precision:0}}},plugins:{datalabels:{display:!1}}}}),e.dataset.inited="1"}).catch(n=>{console.error(n),delete e.dataset.initializing}))}function v(){const e=document.getElementById("member-activity-distribution-chart");!e||e.dataset.inited||e.dataset.initializing||(e.dataset.initializing="1",Promise.all([y(),w(e.dataset.endpoint)]).then(([{Chart:n},i])=>{const c=(i.values||[]).reduce((t,a)=>t+(Number(a)||0),0)||0,d=["#10b981","#6366f1","#f59e0b","#ef4444","#8b5cf6","#0ea5e9"],s=(i.labels||[]).map((t,a)=>d[a%d.length]);new n(e,{type:"doughnut",data:{labels:i.labels,datasets:[{data:i.values,backgroundColor:s}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},datalabels:{color:"#fff",font:{weight:"bold",size:20},formatter:t=>{if(!c)return null;const a=(Number(t)||0)/c*100;return a<4?null:a.toFixed(0)+"%"},anchor:"center",align:"center",clamp:!0}},cutout:"60%"}});const r=document.getElementById("member-activity-distribution-legend");if(r){const t=i.labels||[];r.innerHTML=t.map((a,o)=>`
				<div class="flex items-center gap-2">
					<span class="inline-block w-3 h-3 rounded-full" style="background-color: ${s[o]};"></span>
					<span>${a}</span>
				</div>
			`).join("")}e.dataset.inited="1"}).catch(n=>{console.error(n),delete e.dataset.initializing}))}function _(){const e=document.getElementById("member-weekly-attendance-chart"),n=document.getElementById("member-activity-distribution-chart");if("IntersectionObserver"in window){const i=new IntersectionObserver((c,d)=>{for(const s of c){if(!s.isIntersecting)continue;const r=s.target;r.id==="member-weekly-attendance-chart"&&p(),r.id==="member-activity-distribution-chart"&&v(),d.unobserve(r)}},{threshold:.15});e&&!e.dataset.inited&&i.observe(e),n&&!n.dataset.inited&&i.observe(n)}else p(),v()}function b(){_()}(document.readyState==="complete"||document.readyState==="interactive")&&queueMicrotask(b);["DOMContentLoaded","livewire:navigated","flux:navigate","pageshow"].forEach(e=>window.addEventListener(e,b));setTimeout(b,0);
